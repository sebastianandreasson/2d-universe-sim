[{"/Users/xandse/Documents/code/personal/2d-universe-sim/src/index.js":"1","/Users/xandse/Documents/code/personal/2d-universe-sim/src/App.js":"2","/Users/xandse/Documents/code/personal/2d-universe-sim/src/simulator/build/index.js":"3","/Users/xandse/Documents/code/personal/2d-universe-sim/src/simulator/build/index_bg.js":"4","/Users/xandse/Documents/code/personal/2d-universe-sim/src/simulation.worker.js":"5","/Users/xandse/Documents/code/personal/2d-universe-sim/src/hooks/paint.js":"6","/Users/xandse/Documents/code/personal/2d-universe-sim/src/state/index.js":"7","/Users/xandse/Documents/code/personal/2d-universe-sim/src/state/constants.js":"8","/Users/xandse/Documents/code/personal/2d-universe-sim/src/render/index.js":"9","/Users/xandse/Documents/code/personal/2d-universe-sim/src/hooks/canvas.js":"10","/Users/xandse/Documents/code/personal/2d-universe-sim/src/render/sky.js":"11","/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/canvas.js":"12","/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/Canvas.js":"13","/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/PainterControls.js":"14","/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/WorldControls.js":"15"},{"size":1660,"mtime":1608627684353,"results":"16","hashOfConfig":"17"},{"size":1224,"mtime":1608587179862,"results":"18","hashOfConfig":"17"},{"size":17194,"mtime":1608071814336,"results":"19","hashOfConfig":"20"},{"size":9833,"mtime":1608070292230,"results":"21","hashOfConfig":"20"},{"size":524,"mtime":1607638145104,"results":"22","hashOfConfig":"17"},{"size":1269,"mtime":1608499252792,"results":"23","hashOfConfig":"17"},{"size":664,"mtime":1608626520574,"results":"24","hashOfConfig":"17"},{"size":88,"mtime":1608496628509,"results":"25","hashOfConfig":"17"},{"size":2620,"mtime":1608586217458,"results":"26","hashOfConfig":"17"},{"size":718,"mtime":1608586351894,"results":"27","hashOfConfig":"17"},{"size":13956,"mtime":1608499125490,"results":"28","hashOfConfig":"17"},{"size":258,"mtime":1608499736841,"results":"29","hashOfConfig":"17"},{"size":294,"mtime":1608586415893,"results":"30","hashOfConfig":"17"},{"size":1064,"mtime":1608590511346,"results":"31","hashOfConfig":"17"},{"size":1065,"mtime":1608589252117,"results":"32","hashOfConfig":"17"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1awfcpn",{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":2,"warningCount":30,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"wf9rxv",{"filePath":"41","messages":"42","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"38"},"/Users/xandse/Documents/code/personal/2d-universe-sim/src/index.js",["71","72","73"],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/App.js",["74","75"],"import React, { useEffect, useState } from 'react'\n/* eslint-disable import/no-webpack-loader-syntax */\n// import SimulationWorker from 'worker-loader!./simulation.worker.js'\nimport { renderLoop } from './render'\nimport { usePainter } from './hooks/paint'\nimport { useCanvas } from './hooks/canvas'\nimport { useRecoilValue } from 'recoil'\nimport { universeState } from './state'\nimport styled from 'styled-components'\n\nimport Canvas from './components/Canvas'\nimport PainterControls from './components/PainterControls'\nimport WorldControls from './components/WorldControls'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n`\n\nconst Controls = styled.div`\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n\n  padding: 10px;\n  background-color: white;\n`\n\nconst App = () => {\n  const { universe, memory } = useRecoilValue(universeState)\n  const canvas = useCanvas()\n  usePainter()\n\n  useEffect(() => {\n    if (canvas) {\n      renderLoop({\n        universe,\n        memory,\n        canvas,\n      })\n    }\n  }, [canvas])\n\n  return (\n    <Container>\n      <Canvas />\n      <Controls>\n        <PainterControls />\n        <WorldControls />\n      </Controls>\n    </Container>\n  )\n}\n\nexport default App\n",["76","77"],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/simulator/build/index.js",["78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109"],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/simulator/build/index_bg.js",["110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135"],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/simulation.worker.js",["136"],"import * as Comlink from 'comlink'\n\nlet universe\nlet memory\nlet wasm\nlet index\nconst worker = {\n  init: async (payload) => {\n    import('./simulator/build').then(async (_wasm) => {\n      console.log('worker.init', payload.universe.ptr)\n      console.log('wasm', _wasm)\n      memory = _wasm.wasm_memory()\n      wasm = _wasm\n      console.log('mry', memory)\n      universe = memory.buffer[payload.universe.ptr]\n      console.log('uni', universe)\n    })\n  },\n  tick: () => wasm.tickUniverse(universe)\n}\n\n\nComlink.expose(worker)",["137","138"],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/hooks/paint.js",["139","140"],"import { useEffect, useCallback } from 'react'\nimport { useRecoilState, useRecoilValue } from 'recoil'\nimport { canvasState, painterState, universeState } from '../state'\n\nexport const usePainter = () => {\n  const painter = useRecoilValue(painterState)\n  const canvas = useRecoilValue(canvasState)\n  const { universe } = useRecoilValue(universeState)\n\n  const onPaint = useEffect(() => {\n    const handleClick = (event) => {\n      const width = universe.width()\n      const height = universe.height()\n      const boundingRect = canvas.getBoundingClientRect()\n\n      const scaleX =\n        canvas.width / Math.ceil(window.devicePixelRatio) / boundingRect.width\n      const scaleY =\n        canvas.height / Math.ceil(window.devicePixelRatio) / boundingRect.height\n\n      const canvasLeft = (event.clientX - boundingRect.left) * scaleX\n      const canvasTop = (event.clientY - boundingRect.top) * scaleY\n\n      const x = Math.min(Math.floor(canvasLeft), width - 1)\n      const y = Math.min(Math.floor(canvasTop), height - 1)\n\n      universe.paint(x, y, painter.brushSize, painter.type)\n    }\n\n    window.addEventListener('mousedown', handleClick)\n\n    return () => window.removeEventListener('mousedown', handleClick)\n  }, [painter, universe, canvas])\n\n  return onPaint\n}\n","/Users/xandse/Documents/code/personal/2d-universe-sim/src/state/index.js",["141"],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/state/constants.js",[],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/render/index.js",[],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/hooks/canvas.js",["142"],"import { useEffect } from 'react'\nimport { useRecoilState } from 'recoil'\nimport { canvasState } from '../state'\n\nexport const useCanvas = () => {\n  const [canvas, setCanvas] = useRecoilState(canvasState)\n\n  useEffect(() => {\n    if (!canvas) return\n\n    const resize = () => {\n      let screen_width = window.innerWidth\n      let screen_height = window.innerHeight\n\n      canvas.style = `width: ${screen_width}px; height: ${screen_height}px;`\n      console.log(canvas.style)\n    }\n\n    resize()\n    window.addEventListener('resize', resize)\n\n    return () => window.removeEventListener('resize', resize)\n  }, [canvas])\n\n  useEffect(() => {\n    setCanvas(document.getElementById('canvas'))\n  }, [])\n\n  return canvas\n}\n","/Users/xandse/Documents/code/personal/2d-universe-sim/src/render/sky.js",["143","144","145","146"],"import fsh from '../glsl/sky.glsl'\nlet fragShader = fsh\n\n/*forked from https://github.com/bysse/shadertoy-webgl-harness*/\n// Mixed with some webgl2 code taken from pilibs.js\n// http://iquilezles.org/code/piLibsJS/piLibsJS.htm\nclass WebGL {\n  constructor(canvasId, res) {\n    this.canvas = document.getElementById(canvasId)\n    var opts = {\n      stencil: false,\n      premultipliedAlpha: false,\n    }\n\n    var gl = null\n    if (gl == null) gl = this.canvas.getContext('webgl2', opts)\n    if (gl == null) gl = this.canvas.getContext('experimental-webgl2', opts)\n    if (gl == null) gl = this.canvas.getContext('webgl', opts)\n    if (gl == null) gl = this.canvas.getContext('experimental-webgl', opts)\n    this.gl = gl\n    this.textures = {}\n    let mIs20 = !(this.gl instanceof WebGLRenderingContext)\n\n    let vertexShader = ''\n\n    if (mIs20) {\n      vertexShader +=\n        '#version 300 es\\n' +\n        '#ifdef GL_ES\\n' +\n        'precision highp float;\\n' +\n        'precision highp int;\\n' +\n        'precision mediump sampler3D;\\n' +\n        '#endif\\n' +\n        'in '\n    } else {\n      vertexShader +=\n        '#ifdef GL_ES\\n' +\n        'precision highp float;\\n' +\n        'precision highp int;\\n' +\n        '#endif\\n' +\n        'attribute'\n    }\n    vertexShader += ' vec4 aPosition; void main() { gl_Position = aPosition; } '\n    let fragmentShader = ''\n\n    let mDerivatives\n    let mShaderTextureLOD\n\n    if (mIs20) {\n      mDerivatives = true\n      mShaderTextureLOD = true\n    } else {\n      mDerivatives = this.gl.getExtension('OES_standard_derivatives')\n      mShaderTextureLOD = this.gl.getExtension('EXT_shader_texture_lod')\n    }\n\n    if (mIs20) {\n      fragmentShader +=\n        '#version 300 es\\n' +\n        '#ifdef GL_ES\\n' +\n        'precision highp float;\\n' +\n        'precision highp int;\\n' +\n        'precision mediump sampler3D;\\n' +\n        '#endif\\n' +\n        'out vec4 myOutputColor;\\n'\n      fragShader = fragShader.replace('gl_FragColor', 'myOutputColor')\n    } else {\n      if (mDerivatives) {\n        fragmentShader +=\n          '#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n'\n      }\n      if (mShaderTextureLOD) {\n        fragmentShader += '#extension GL_EXT_shader_texture_lod : enable\\n'\n      }\n      fragmentShader +=\n        '#ifdef GL_ES\\n' +\n        'precision highp float;\\n' +\n        'precision highp int;\\n' +\n        '#endif\\n' +\n        'vec4 texture(     sampler2D   s, vec2 c)                   { return texture2D(s,c); }\\n' +\n        'vec4 texture(     sampler2D   s, vec2 c, float b)          { return texture2D(s,c,b); }\\n' +\n        'vec4 texture(     samplerCube s, vec3 c )                  { return textureCube(s,c); }\\n' +\n        'vec4 texture(     samplerCube s, vec3 c, float b)          { return textureCube(s,c,b); }\\n' +\n        'float round( float x ) { return floor(x+0.5); }\\n' +\n        'vec2 round(vec2 x) { return floor(x + 0.5); }\\n' +\n        'vec3 round(vec3 x) { return floor(x + 0.5); }\\n' +\n        'vec4 round(vec4 x) { return floor(x + 0.5); }\\n' +\n        'float trunc( float x, float n ) { return floor(x*n)/n; }\\n' +\n        'mat3 transpose(mat3 m) { return mat3(m[0].x, m[1].x, m[2].x, m[0].y, m[1].y, m[2].y, m[0].z, m[1].z, m[2].z); }\\n' +\n        'float determinant( in mat2 m ) { return m[0][0]*m[1][1] - m[0][1]*m[1][0]; }\\n' +\n        'float determinant( mat4 m ) { float b00 = m[0][0] * m[1][1] - m[0][1] * m[1][0], b01 = m[0][0] * m[1][2] - m[0][2] * m[1][0], b02 = m[0][0] * m[1][3] - m[0][3] * m[1][0], b03 = m[0][1] * m[1][2] - m[0][2] * m[1][1], b04 = m[0][1] * m[1][3] - m[0][3] * m[1][1], b05 = m[0][2] * m[1][3] - m[0][3] * m[1][2], b06 = m[2][0] * m[3][1] - m[2][1] * m[3][0], b07 = m[2][0] * m[3][2] - m[2][2] * m[3][0], b08 = m[2][0] * m[3][3] - m[2][3] * m[3][0], b09 = m[2][1] * m[3][2] - m[2][2] * m[3][1], b10 = m[2][1] * m[3][3] - m[2][3] * m[3][1], b11 = m[2][2] * m[3][3] - m[2][3] * m[3][2];  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;}\\n' +\n        'mat2 inverse(mat2 m) { float det = determinant(m); return mat2(m[1][1], -m[0][1], -m[1][0], m[0][0]) / det; }\\n' +\n        'mat4 inverse(mat4 m ) { float inv0 = m[1].y*m[2].z*m[3].w - m[1].y*m[2].w*m[3].z - m[2].y*m[1].z*m[3].w + m[2].y*m[1].w*m[3].z + m[3].y*m[1].z*m[2].w - m[3].y*m[1].w*m[2].z; float inv4 = -m[1].x*m[2].z*m[3].w + m[1].x*m[2].w*m[3].z + m[2].x*m[1].z*m[3].w - m[2].x*m[1].w*m[3].z - m[3].x*m[1].z*m[2].w + m[3].x*m[1].w*m[2].z; float inv8 = m[1].x*m[2].y*m[3].w - m[1].x*m[2].w*m[3].y - m[2].x  * m[1].y * m[3].w + m[2].x  * m[1].w * m[3].y + m[3].x * m[1].y * m[2].w - m[3].x * m[1].w * m[2].y; float inv12 = -m[1].x  * m[2].y * m[3].z + m[1].x  * m[2].z * m[3].y +m[2].x  * m[1].y * m[3].z - m[2].x  * m[1].z * m[3].y - m[3].x * m[1].y * m[2].z + m[3].x * m[1].z * m[2].y; float inv1 = -m[0].y*m[2].z * m[3].w + m[0].y*m[2].w * m[3].z + m[2].y  * m[0].z * m[3].w - m[2].y  * m[0].w * m[3].z - m[3].y * m[0].z * m[2].w + m[3].y * m[0].w * m[2].z; float inv5 = m[0].x  * m[2].z * m[3].w - m[0].x  * m[2].w * m[3].z - m[2].x  * m[0].z * m[3].w + m[2].x  * m[0].w * m[3].z + m[3].x * m[0].z * m[2].w - m[3].x * m[0].w * m[2].z; float inv9 = -m[0].x  * m[2].y * m[3].w +  m[0].x  * m[2].w * m[3].y + m[2].x  * m[0].y * m[3].w - m[2].x  * m[0].w * m[3].y - m[3].x * m[0].y * m[2].w + m[3].x * m[0].w * m[2].y; float inv13 = m[0].x  * m[2].y * m[3].z - m[0].x  * m[2].z * m[3].y - m[2].x  * m[0].y * m[3].z + m[2].x  * m[0].z * m[3].y + m[3].x * m[0].y * m[2].z - m[3].x * m[0].z * m[2].y; float inv2 = m[0].y  * m[1].z * m[3].w - m[0].y  * m[1].w * m[3].z - m[1].y  * m[0].z * m[3].w + m[1].y  * m[0].w * m[3].z + m[3].y * m[0].z * m[1].w - m[3].y * m[0].w * m[1].z; float inv6 = -m[0].x  * m[1].z * m[3].w + m[0].x  * m[1].w * m[3].z + m[1].x  * m[0].z * m[3].w - m[1].x  * m[0].w * m[3].z - m[3].x * m[0].z * m[1].w + m[3].x * m[0].w * m[1].z; float inv10 = m[0].x  * m[1].y * m[3].w - m[0].x  * m[1].w * m[3].y - m[1].x  * m[0].y * m[3].w + m[1].x  * m[0].w * m[3].y + m[3].x * m[0].y * m[1].w - m[3].x * m[0].w * m[1].y; float inv14 = -m[0].x  * m[1].y * m[3].z + m[0].x  * m[1].z * m[3].y + m[1].x  * m[0].y * m[3].z - m[1].x  * m[0].z * m[3].y - m[3].x * m[0].y * m[1].z + m[3].x * m[0].z * m[1].y; float inv3 = -m[0].y * m[1].z * m[2].w + m[0].y * m[1].w * m[2].z + m[1].y * m[0].z * m[2].w - m[1].y * m[0].w * m[2].z - m[2].y * m[0].z * m[1].w + m[2].y * m[0].w * m[1].z; float inv7 = m[0].x * m[1].z * m[2].w - m[0].x * m[1].w * m[2].z - m[1].x * m[0].z * m[2].w + m[1].x * m[0].w * m[2].z + m[2].x * m[0].z * m[1].w - m[2].x * m[0].w * m[1].z; float inv11 = -m[0].x * m[1].y * m[2].w + m[0].x * m[1].w * m[2].y + m[1].x * m[0].y * m[2].w - m[1].x * m[0].w * m[2].y - m[2].x * m[0].y * m[1].w + m[2].x * m[0].w * m[1].y; float inv15 = m[0].x * m[1].y * m[2].z - m[0].x * m[1].z * m[2].y - m[1].x * m[0].y * m[2].z + m[1].x * m[0].z * m[2].y + m[2].x * m[0].y * m[1].z - m[2].x * m[0].z * m[1].y; float det = m[0].x * inv0 + m[0].y * inv4 + m[0].z * inv8 + m[0].w * inv12; det = 1.0 / det; return det*mat4( inv0, inv1, inv2, inv3,inv4, inv5, inv6, inv7,inv8, inv9, inv10, inv11,inv12, inv13, inv14, inv15);}\\n' +\n        'float sinh(float x)  { return (exp(x)-exp(-x))/2.; }\\n' +\n        'float cosh(float x)  { return (exp(x)+exp(-x))/2.; }\\n' +\n        'float tanh(float x)  { return sinh(x)/cosh(x); }\\n' +\n        'float coth(float x)  { return cosh(x)/sinh(x); }\\n' +\n        'float sech(float x)  { return 1./cosh(x); }\\n' +\n        'float csch(float x)  { return 1./sinh(x); }\\n' +\n        'float asinh(float x) { return    log(x+sqrt(x*x+1.)); }\\n' +\n        'float acosh(float x) { return    log(x+sqrt(x*x-1.)); }\\n' +\n        'float atanh(float x) { return .5*log((1.+x)/(1.-x)); }\\n' +\n        'float acoth(float x) { return .5*log((x+1.)/(x-1.)); }\\n' +\n        'float asech(float x) { return    log((1.+sqrt(1.-x*x))/x); }\\n' +\n        'float acsch(float x) { return    log((1.+sqrt(1.+x*x))/x); }\\n'\n      if (mShaderTextureLOD) {\n        fragmentShader +=\n          'vec4 textureLod(  sampler2D   s, vec2 c, float b)          { return texture2DLodEXT(s,c,b); }\\n'\n        fragmentShader +=\n          'vec4 textureGrad( sampler2D   s, vec2 c, vec2 dx, vec2 dy) { return texture2DGradEXT(s,c,dx,dy); }\\n'\n      } else {\n        fragShader = fragShader.replace('textureLod', 'texture')\n      }\n    }\n\n    fragmentShader += fragShader\n    // console.log(fragmentShader);\n    this.shader = WebGL.linkShader(this.gl, vertexShader, fragmentShader)\n    this.shader.vertexAttribute = this.gl.getAttribLocation(\n      this.shader,\n      'aPosition'\n    )\n    this.gl.enableVertexAttribArray(this.shader.vertexAttribute)\n\n    this.height = window.innerHeight / res\n    this.width = window.innerWidth / res\n    this.canvas.setAttribute('width', this.width)\n    this.canvas.setAttribute('height', this.height)\n\n    this.vertexBuffer = WebGL.createVBO(this.gl, 3, [\n      1.0,\n      1.0,\n      0.0,\n      -1.0,\n      1.0,\n      0.0,\n      1.0,\n      -1.0,\n      0.0,\n      -1.0,\n      -1.0,\n      0.0,\n    ])\n    this.running = false\n    this.time0 = 0.0\n  }\n\n  loadTexture(channelNumber, source) {\n    var texture = this.gl.createTexture()\n    var gl = this.gl\n    texture.image = new Image()\n    texture.image.onload = () => {\n      gl.bindTexture(gl.TEXTURE_2D, texture)\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true)\n\n      try {\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          0,\n          gl.RGBA,\n          gl.RGBA,\n          gl.UNSIGNED_BYTE,\n          texture.image\n        )\n      } catch (err) {\n        console.log(`ERROR: Failed to load texture ${source} : ${err}`)\n\n        console.log(`INFO: Generating placeholder texture for ${source}`)\n        var w = 64,\n          bw = 4,\n          data = []\n        for (var y = 0; y < w; y++) {\n          for (var x = 0; x < w; x++) {\n            var ix = parseInt(x / bw),\n              iy = parseInt(y / bw)\n            var c = 0xff * ((ix + iy) % 2)\n            data = data.concat([c, c, c, 0xff])\n          }\n        }\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          0,\n          gl.RGBA,\n          w,\n          w,\n          0,\n          gl.RGBA,\n          gl.UNSIGNED_BYTE,\n          new Uint8Array(data)\n        )\n      }\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n      gl.bindTexture(gl.TEXTURE_2D, null)\n\n      this.textures[channelNumber] = texture\n    }\n    texture.image.src = source\n  }\n\n  start() {\n    if (this.running) {\n      return\n    }\n\n    this._start()\n  }\n\n  _start() {\n    this.running = true\n    this.time0 = WebGL.getTime()\n    this.timePreviousFrame = this.time0\n\n    this.gl.disable(this.gl.DEPTH_TEST)\n    this.gl.viewport(0, 0, this.width, this.height)\n    this.gl.useProgram(this.shader)\n  }\n\n  stop() {\n    this.running = false\n  }\n\n  frame(gameTime) {\n    let gl = this.gl\n    if (!this.running) {\n      return\n    }\n\n    let shader = this.shader\n    let time = WebGL.getTime() - this.time0\n    let dt = time - this.timePreviousFrame\n    this.timePreviousFrame = time\n\n    gl.clear(gl.DEPTH_BUFFER_BIT)\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer)\n    gl.vertexAttribPointer(\n      shader.vertexAttribute,\n      this.vertexBuffer.itemSize,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    )\n\n    // set texture\n    for (var channel in this.textures) {\n      var texture = this.textures[channel]\n      gl.activeTexture(gl.TEXTURE0 + parseInt(channel))\n      gl.bindTexture(gl.TEXTURE_2D, texture)\n      gl.uniform1i(gl.getUniformLocation(shader, 'iChannel' + channel), channel)\n    }\n\n    // update uniforms\n    gl.uniform3f(\n      gl.getUniformLocation(shader, 'iResolution'),\n      this.width,\n      this.height,\n      0\n    )\n    gl.uniform1f(gl.getUniformLocation(shader, 'iGlobalTime'), time) // legacy support\n    gl.uniform1f(gl.getUniformLocation(shader, 'iTime'), time)\n    gl.uniform1f(gl.getUniformLocation(shader, 'gameTime'), gameTime)\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertexBuffer.numItems)\n  }\n\n  static createVBO(gl, stride, vertexData) {\n    var vertexBuffer = gl.createBuffer()\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer)\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexData), gl.STATIC_DRAW)\n    vertexBuffer.itemSize = stride\n    vertexBuffer.numItems = vertexData.length / stride\n    return vertexBuffer\n  }\n\n  static linkShader(gl, vertexSource, fragmentSource) {\n    var program = gl.createProgram()\n    gl.attachShader(\n      program,\n      WebGL.compileShader(gl, gl.VERTEX_SHADER, vertexSource)\n    )\n    gl.attachShader(\n      program,\n      WebGL.compileShader(gl, gl.FRAGMENT_SHADER, fragmentSource)\n    )\n    gl.linkProgram(program)\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      WebGL.showLogProgram(gl, program)\n      throw `Failed to link shader!`\n    }\n\n    program.uniformLocation = (gl, name) => gl.getUniformLocation(program, name)\n\n    return program\n  }\n\n  static compileShader(gl, shaderType, source) {\n    var shader = gl.createShader(shaderType)\n    gl.shaderSource(shader, source)\n    gl.compileShader(shader)\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      let type =\n        shaderType == gl.VERTEX_SHADER ? 'vertex shader' : 'fragment shader'\n      WebGL.showLog(gl, shader)\n      throw `Failed to compile ${type}`\n    }\n    return shader\n  }\n\n  static getTime() {\n    return 0.001 * new Date().getTime()\n  }\n  static showLog(gl, shader) {\n    var compilationLog = gl.getShaderInfoLog(shader)\n    console.log('ERROR: ' + compilationLog)\n  }\n  static showLogProgram(gl, program) {\n    var compilationLog = gl.getProgramInfoLog(program)\n    console.log('ERROR: ' + compilationLog)\n  }\n}\n\nexport default function startSky(res) {\n  var webGL = new WebGL('sky-canvas', res)\n  webGL.loadTexture(0, 'assets/noise.png')\n\n  webGL.start()\n  return webGL\n}\n","/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/canvas.js",[],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/Canvas.js",[],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/PainterControls.js",[],"/Users/xandse/Documents/code/personal/2d-universe-sim/src/components/WorldControls.js",["147","148"],"import React from 'react'\nimport { useRecoilState } from 'recoil'\nimport styled from 'styled-components'\nimport { universeSettingsState } from '../state'\nimport { InputNumber, Select } from 'antd'\nimport { ELEMENTS } from '../state/constants'\n\nconst { Option } = Select\n\nconst Container = styled.div`\n  width: 100%;\n\n  display: flex;\n\n  flex-direction: column;\n`\n\nconst WorldControls = () => {\n  const [settings, setSettings] = useRecoilState(universeSettingsState)\n\n  const onChange = (key, value) =>\n    setSettings({\n      ...settings,\n      [key]: value,\n    })\n\n  const input = (type, value) => {\n    return (\n      <>\n        <span>{type}</span>\n        <InputNumber value={value} onChange={(v) => onChange(type, v)} />\n      </>\n    )\n  }\n\n  return (\n    <Container>\n      <span>World</span>\n      {input('seed', settings.seed)}\n      {input('octaves', settings.octaves)}\n      {input('gain', settings.gain)}\n      {input('lacunarity', settings.lacunarity)}\n      {input('frequency', settings.frequency)}\n    </Container>\n  )\n}\n\nexport default WorldControls\n",{"ruleId":"149","severity":1,"message":"150","line":23,"column":6,"nodeType":"151","endLine":23,"endColumn":8,"suggestions":"152"},{"ruleId":"149","severity":1,"message":"153","line":43,"column":6,"nodeType":"151","endLine":43,"endColumn":12,"suggestions":"154"},{"ruleId":"149","severity":1,"message":"155","line":55,"column":6,"nodeType":"151","endLine":55,"endColumn":26,"suggestions":"156"},{"ruleId":"157","severity":1,"message":"158","line":1,"column":28,"nodeType":"159","messageId":"160","endLine":1,"endColumn":36},{"ruleId":"149","severity":1,"message":"161","line":42,"column":6,"nodeType":"151","endLine":42,"endColumn":14,"suggestions":"162"},{"ruleId":"163","replacedBy":"164"},{"ruleId":"165","replacedBy":"166"},{"ruleId":"167","severity":1,"message":"168","line":159,"column":22,"nodeType":"169","messageId":"170","endLine":159,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":168,"column":22,"nodeType":"169","messageId":"170","endLine":168,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":177,"column":22,"nodeType":"169","messageId":"170","endLine":177,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":186,"column":22,"nodeType":"169","messageId":"170","endLine":186,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":195,"column":22,"nodeType":"169","messageId":"170","endLine":195,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":204,"column":22,"nodeType":"169","messageId":"170","endLine":204,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":213,"column":22,"nodeType":"169","messageId":"170","endLine":213,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":222,"column":22,"nodeType":"169","messageId":"170","endLine":222,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":246,"column":22,"nodeType":"169","messageId":"170","endLine":246,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":255,"column":22,"nodeType":"169","messageId":"170","endLine":255,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":264,"column":22,"nodeType":"169","messageId":"170","endLine":264,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":273,"column":22,"nodeType":"169","messageId":"170","endLine":273,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":282,"column":22,"nodeType":"169","messageId":"170","endLine":282,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":291,"column":22,"nodeType":"169","messageId":"170","endLine":291,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":300,"column":22,"nodeType":"169","messageId":"170","endLine":300,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":309,"column":22,"nodeType":"169","messageId":"170","endLine":309,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":339,"column":22,"nodeType":"169","messageId":"170","endLine":339,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":346,"column":22,"nodeType":"169","messageId":"170","endLine":346,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":358,"column":22,"nodeType":"169","messageId":"170","endLine":358,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":368,"column":22,"nodeType":"169","messageId":"170","endLine":368,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":377,"column":22,"nodeType":"169","messageId":"170","endLine":377,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":386,"column":22,"nodeType":"169","messageId":"170","endLine":386,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":395,"column":22,"nodeType":"169","messageId":"170","endLine":395,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":407,"column":22,"nodeType":"169","messageId":"170","endLine":407,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":419,"column":22,"nodeType":"169","messageId":"170","endLine":419,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":427,"column":22,"nodeType":"169","messageId":"170","endLine":427,"endColumn":24},{"ruleId":"167","severity":1,"message":"171","line":480,"column":56,"nodeType":"169","messageId":"170","endLine":480,"endColumn":58},{"ruleId":"167","severity":1,"message":"168","line":522,"column":23,"nodeType":"169","messageId":"170","endLine":522,"endColumn":25},{"ruleId":"172","severity":1,"message":"173","line":550,"column":19,"nodeType":"174","messageId":"175","endLine":550,"endColumn":30},{"ruleId":"176","severity":1,"message":"177","line":559,"column":19,"nodeType":"174","messageId":"178","endLine":559,"endColumn":63},{"ruleId":"179","severity":2,"message":"180","line":567,"column":19,"nodeType":"159","messageId":"181","endLine":567,"endColumn":29},{"ruleId":"182","severity":2,"message":"183","line":571,"column":19,"nodeType":"159","messageId":"184","endLine":571,"endColumn":23},{"ruleId":"167","severity":1,"message":"168","line":85,"column":22,"nodeType":"169","messageId":"170","endLine":85,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":94,"column":22,"nodeType":"169","messageId":"170","endLine":94,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":103,"column":22,"nodeType":"169","messageId":"170","endLine":103,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":112,"column":22,"nodeType":"169","messageId":"170","endLine":112,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":121,"column":22,"nodeType":"169","messageId":"170","endLine":121,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":130,"column":22,"nodeType":"169","messageId":"170","endLine":130,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":139,"column":22,"nodeType":"169","messageId":"170","endLine":139,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":148,"column":22,"nodeType":"169","messageId":"170","endLine":148,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":172,"column":22,"nodeType":"169","messageId":"170","endLine":172,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":181,"column":22,"nodeType":"169","messageId":"170","endLine":181,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":190,"column":22,"nodeType":"169","messageId":"170","endLine":190,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":199,"column":22,"nodeType":"169","messageId":"170","endLine":199,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":208,"column":22,"nodeType":"169","messageId":"170","endLine":208,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":217,"column":22,"nodeType":"169","messageId":"170","endLine":217,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":226,"column":22,"nodeType":"169","messageId":"170","endLine":226,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":235,"column":22,"nodeType":"169","messageId":"170","endLine":235,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":265,"column":22,"nodeType":"169","messageId":"170","endLine":265,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":272,"column":22,"nodeType":"169","messageId":"170","endLine":272,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":284,"column":22,"nodeType":"169","messageId":"170","endLine":284,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":294,"column":22,"nodeType":"169","messageId":"170","endLine":294,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":303,"column":22,"nodeType":"169","messageId":"170","endLine":303,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":312,"column":22,"nodeType":"169","messageId":"170","endLine":312,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":321,"column":22,"nodeType":"169","messageId":"170","endLine":321,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":333,"column":22,"nodeType":"169","messageId":"170","endLine":333,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":345,"column":22,"nodeType":"169","messageId":"170","endLine":345,"endColumn":24},{"ruleId":"167","severity":1,"message":"168","line":353,"column":22,"nodeType":"169","messageId":"170","endLine":353,"endColumn":24},{"ruleId":"157","severity":1,"message":"185","line":6,"column":5,"nodeType":"159","messageId":"160","endLine":6,"endColumn":10},{"ruleId":"163","replacedBy":"186"},{"ruleId":"165","replacedBy":"187"},{"ruleId":"157","severity":1,"message":"188","line":1,"column":21,"nodeType":"159","messageId":"160","endLine":1,"endColumn":32},{"ruleId":"157","severity":1,"message":"189","line":2,"column":10,"nodeType":"159","messageId":"160","endLine":2,"endColumn":24},{"ruleId":"157","severity":1,"message":"190","line":1,"column":16,"nodeType":"159","messageId":"160","endLine":1,"endColumn":24},{"ruleId":"149","severity":1,"message":"191","line":27,"column":6,"nodeType":"151","endLine":27,"endColumn":8,"suggestions":"192"},{"ruleId":"157","severity":1,"message":"193","line":232,"column":9,"nodeType":"159","messageId":"160","endLine":232,"endColumn":11},{"ruleId":"194","severity":1,"message":"195","line":291,"column":7,"nodeType":"196","messageId":"197","endLine":291,"endColumn":37},{"ruleId":"167","severity":1,"message":"168","line":306,"column":20,"nodeType":"169","messageId":"170","endLine":306,"endColumn":22},{"ruleId":"194","severity":1,"message":"195","line":308,"column":7,"nodeType":"196","messageId":"197","endLine":308,"endColumn":40},{"ruleId":"157","severity":1,"message":"198","line":6,"column":10,"nodeType":"159","messageId":"160","endLine":6,"endColumn":18},{"ruleId":"157","severity":1,"message":"199","line":8,"column":9,"nodeType":"159","messageId":"160","endLine":8,"endColumn":15},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setWasm'. Either include it or remove the dependency array.","ArrayExpression",["200"],"React Hook useEffect has missing dependencies: 'setUniverse', 'settings.frequency', 'settings.gain', 'settings.height', 'settings.lacunarity', 'settings.octaves', 'settings.seed', and 'settings.width'. Either include them or remove the dependency array.",["201"],"React Hook useEffect has a missing dependency: 'wasm.UniverseSettings'. Either include it or remove the dependency array.",["202"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'memory' and 'universe'. Either include them or remove the dependency array.",["203"],"no-native-reassign",["204"],"no-negated-in-lhs",["205"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","no-array-constructor","The array literal notation [] is preferable.","NewExpression","preferLiteral","no-new-func","The Function constructor is eval.","noFunctionConstructor","no-undef","'globalThis' is not defined.","undef","no-restricted-globals","Unexpected use of 'self'.","defaultMessage","'index' is defined but never used.",["204"],["205"],"'useCallback' is defined but never used.","'useRecoilState' is defined but never used.","'selector' is defined but never used.","React Hook useEffect has a missing dependency: 'setCanvas'. Either include it or remove the dependency array.",["206"],"'dt' is assigned a value but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'ELEMENTS' is defined but never used.","'Option' is assigned a value but never used.",{"desc":"207","fix":"208"},{"desc":"209","fix":"210"},{"desc":"211","fix":"212"},{"desc":"213","fix":"214"},"no-global-assign","no-unsafe-negation",{"desc":"215","fix":"216"},"Update the dependencies array to be: [setWasm]",{"range":"217","text":"218"},"Update the dependencies array to be: [setUniverse, settings.frequency, settings.gain, settings.height, settings.lacunarity, settings.octaves, settings.seed, settings.width, wasm]",{"range":"219","text":"220"},"Update the dependencies array to be: [universe, settings, wasm.UniverseSettings]",{"range":"221","text":"222"},"Update the dependencies array to be: [canvas, memory, universe]",{"range":"223","text":"224"},"Update the dependencies array to be: [setCanvas]",{"range":"225","text":"226"},[677,679],"[setWasm]",[1122,1128],"[setUniverse, settings.frequency, settings.gain, settings.height, settings.lacunarity, settings.octaves, settings.seed, settings.width, wasm]",[1413,1433],"[universe, settings, wasm.UniverseSettings]",[1037,1045],"[canvas, memory, universe]",[695,697],"[setCanvas]"]